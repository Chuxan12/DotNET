<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–µ - –ê–Ω–∏–º–µ–°–∞–π—Ç</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* CSS —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        .container {
            background: #fff;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: auto;
            position: relative;
        }
        
        h1 {
            text-align: center;
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 97%;
            padding: 10px;
            border: 1px solid #ccc;
        }

        .error {
            color: red;
            font-size: 14px;
            display: none;
            position: absolute;
            bottom: -20px;
            left: 0;
        }

        .submit-button {
            background-color: #007BFF;
            color: white;
            padding: 10px;
            border: none;
            cursor: pointer;
            width: 100%;
        }

        .submit-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">–ê–Ω–∏–º–µ–°–∞–π—Ç</div>
        <div class="search-container">
            <form id="searchForm" onsubmit="return handleSearch(event);">
                <input type="text" class="search-input" placeholder="–ù–∞–π—Ç–∏ –∞–Ω–∏–º–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." id="searchInput" required>
                <button type="submit" class="search-button">üîç</button>
            </form>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                <li><a href="top100.html">–¢–æ–ø-100 –∞–Ω–∏–º–µ</a></li>
                <li><a href="profile.html"><img src="img/avatar.jpg" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar"></a></li>
            </ul>
        </nav>
    </header>
    <main>
        <div class="container">
            <p><strong>–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–µ</strong></p>
            <div class="form-group">
                <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ:</label>
                <input type="text" id="title" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–Ω–∏–º–µ..." required>
                <div class="error" id="title-error">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤.</div>
            </div>
            <div class="form-group">
                <label for="rating">–û—Ü–µ–Ω–∫–∞:</label>
                <input type="number" id="rating" min="0" max="10" step="0.1" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 10..." required>
                <div class="error" id="rating-error">–û—Ü–µ–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç 0 –¥–æ 10.</div>
            </div>
            <div class="form-group">
                <label for="type">–¢–∏–ø:</label>
                <select id="type" required>
                    <option value="TV">TV</option>
                    <option value="Movie">–§–∏–ª—å–º</option>
                    <option value="OVA">OVA</option>
                    <option value="Special">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π</option>
                </select>
            </div>
            <div class="form-group">
                <label for="status">–°—Ç–∞—Ç—É—Å:</label>
                <select id="status" required>
                    <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–æ">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</option>
                    <option value="–í –ø—Ä–æ—Ü–µ—Å—Å–µ">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                    <option value="–ê–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–æ">–ê–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–æ</option>
                </select>
            </div>
            <div class="form-group">
                <label for="genre">–ñ–∞–Ω—Ä:</label>
                <select id="genre" required>
                    <option value="–î—Ä–∞–º–∞">–î—Ä–∞–º–∞</option>
                    <option value="–≠–∫—à–µ–Ω">–≠–∫—à–µ–Ω</option>
                    <option value="–ö–æ–º–µ–¥–∏—è">–ö–æ–º–µ–¥–∏—è</option>
                    <option value="–§—ç–Ω—Ç–µ–∑–∏">–§—ç–Ω—Ç–µ–∑–∏</option>
                </select>
                <div class="error" id="genre-error">–ñ–∞–Ω—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—ã–±–æ—Ä–∞.</div>
            </div>
            <div class="form-group">
                <label for="releaseDate">–î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞:</label>
                <input type="date" id="releaseDate" required>
                <div class="error" id="release-date-error">–î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞.</div>
            </div>
            <div class="form-group">
                <label for="studio">–°—Ç—É–¥–∏—è:</label>
                <input type="text" id="studio" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—É–¥–∏–∏..." required>
                <div class="error" id="studio-error">–°—Ç—É–¥–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.</div>
            </div>
            <div class="form-group">
                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="description" rows="4" placeholder="–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –Ω–µ –º–µ–Ω–µ–µ 20 –±—É–∫–≤..." required></textarea>
                <div class="error" id="description-error">–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤.</div>
            </div>
            <div class="form-group">
                <label for="photo">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è:</label>
                <input type="file" id="photo" accept="image/*" required>
                <div class="error" id="photo-error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JPG, PNG –∏–ª–∏ GIF.</div>
            </div>
            <button id="submit-button" class="submit-button">–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–µ</button>
        </div>
    </main>
    <footer>
        <div>
            <p>&copy; 2024 –ê–Ω–∏–º–µ–°–∞–π—Ç</p>
            <p>
                <a href="https://t.me" style="color: white; text-decoration: none;">–ù–∞—à –∫–∞–Ω–∞–ª –≤ Telegram</a> | 
                <a href="about.html" style="color: white; text-decoration: none;">–û –Ω–∞—Å</a> | 
                <a href="add_anime.html" style="color: white; text-decoration: none;">–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–µ</a>
            </p>
        </div>
    </footer>

    <script>
        document.getElementById("submit-button").addEventListener("click", function () {
            let isValid = true;
            document.querySelectorAll('.error').forEach(function(el) {
                el.style.display = "none";
            });

            const titleField = document.getElementById("title");
            const titleError = document.getElementById("title-error");
            if (titleField.value.length < 1 || titleField.value.length > 100) {
                titleError.style.display = "block";
                isValid = false;
            }

            const ratingField = document.getElementById("rating");
            const ratingError = document.getElementById("rating-error");
            if (ratingField.value.trim() === '') {
                ratingError.innerText = "–û—Ü–µ–Ω–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.";
                ratingError.style.display = "block";
                isValid = false;
            } else if (ratingField.value < 0 || ratingField.value > 10) {
                ratingError.innerText = "–û—Ü–µ–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç 0 –¥–æ 10.";
                ratingError.style.display = "block";
                isValid = false;
            }

            const genreField = document.getElementById("genre");
            const genreError = document.getElementById("genre-error");
            if (genreField.value.trim() === '') {
                genreError.style.display = "block";
                isValid = false;
            }

            const releaseDateField = document.getElementById("releaseDate");
            const releaseDateError = document.getElementById("release-date-error");
            if (releaseDateField.value.trim() === '') {
                releaseDateError.style.display = "block";
                isValid = false;
            } else {
                const releaseDate = new Date(releaseDateField.value);
                if (releaseDate.getFullYear() <= 1900) {
                    releaseDateError.innerText = "–î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∑–∂–µ 1900 –≥–æ–¥–∞.";
                    releaseDateError.style.display = "block";
                    isValid = false;
                }
            }

            const studioField = document.getElementById("studio");
            const studioError = document.getElementById("studio-error");
            if (studioField.value.trim() === '') {
                studioError.style.display = "block";
                isValid = false;
            }

            const descriptionField = document.getElementById("description");
            const descriptionError = document.getElementById("description-error");
            const descriptionText = descriptionField.value;

            const letterCount = (descriptionText.match(/[a-zA-Z–∞-—è–ê-–Ø]/g) || []).length;
            if (letterCount < 20) {
                descriptionError.innerText = "–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã 20 –±—É–∫–≤.";
                descriptionError.style.display = "block";
                isValid = false;
            }

            const photoField = document.getElementById("photo");
            const photoError = document.getElementById("photo-error");
            const file = photoField.files[0];

            if (!file) {
                photoError.style.display = "block";
                isValid = false;
            } else {
                const fileType = file.type;
                const validImageTypes = ["image/jpeg", "image/png", "image/gif"];
                if (!validImageTypes.includes(fileType)) {
                    photoError.style.display = "block";
                    isValid = false;
                }
            }

            if (isValid) {
                alert("–ê–Ω–∏–º–µ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!");
                document.querySelectorAll('input, textarea, select').forEach(function(el) {
                    el.value = '';
                });
            }
        });
    </script>
</body>
</html>
